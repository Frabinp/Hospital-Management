{% extends "base.html" %}

{% block title %}Dashboard - FAM Hospital{% endblock %}

{% block content %}
<div class="dashboard">
    <h2>Dashboard</h2>
    
    <div class="stats-grid">
        <div class="stat-card">
            <h3>Total Patients</h3>
            <div class="stat-number">{{ stats.total_patients }}</div>
        </div>
        
        <div class="stat-card">
            <h3>Total Appointments</h3>
            <div class="stat-number">{{ stats.total_appointments }}</div>
        </div>
        
        <div class="stat-card">
            <h3>Total Doctors</h3>
            <div class="stat-number">{{ stats.total_doctors }}</div>
        </div>
    </div>
    
    <div class="dashboard-content">
        <div class="recent-section">
            <h3>Recent Appointments</h3>
            {% if stats.recent_appointments %}
                <table class="recent-table">
                    <thead>
                        <tr>
                            <th>Patient</th>
                            <th>Doctor</th>
                            <th>Date</th>
                            <th>Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for appointment in stats.recent_appointments %}
                        <tr>
                            <td>{{ appointment[1] }}</td>
                            <td>{{ appointment[2] }}</td>
                            <td>{{ appointment[3] }}</td>
                            <td>{{ appointment[4] }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p>No recent appointments found.</p>
            {% endif %}
        </div>
        
        <div class="quick-actions">
            <h3>Quick Actions</h3>
            <div class="action-buttons">
                <a href="{{ url_for('view_patients') }}" class="btn btn-primary">View Patients</a>
                <a href="{{ url_for('view_appointments') }}" class="btn btn-primary">View Appointments</a>
                <a href="{{ url_for('view_medical_records') }}" class="btn btn-primary">Medical Records</a>
                {% if session.user_role == 'admin' %}
                    <a href="{{ url_for('view_users') }}" class="btn btn-secondary">Manage Users</a>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
